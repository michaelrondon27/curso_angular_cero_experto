<section class="mt-5">
    <table class="mt-2 table table-md w-full">
        <thead>
            <tr>
                <th>#</th>
                <th>Ícono</th>
                <th>Bandera</th>
                <th>Nombre</th>
                <th>Capital</th>
                <th>Población</th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            @for (country of countries(); track country.cca2; let index = $index) {
                <tr>
                    <td>{{ index + 1 }}</td>
                    <td>{{ country.flag }}</td>
                    <td>
                        <img
                            [alt]="country.name"
                            class="w-10"
                            [src]="country.flagSvg"
                        />
                    </td>
                    <td>{{ country.name }}</td>
                    <td>{{ country.capital }}</td>
                    <td>
                        <span class="badge badge-secondary">
                            {{ country.population | number }}
                        </span>
                    </td>
                    <td>
                        <a
                            class="cursor-pointer link-primary"
                            [routerLink]="['/country/by', country.cca2]"
                        >
                            Más información
                        </a>
                    </td>
                </tr>
            }

            @if (errorMessage()) {
                <tr>
                    <td class="text-center" colspan="8">
                        {{ errorMessage() }}
                    </td>
                </tr>
            }

            @if (isEmpty() && !isLoading()) {
                <tr>
                    <td class="text-center" colspan="8">
                        No se encontraron resultados
                    </td>
                </tr>
            }

            @if (isLoading()) {
                <tr>
                    <td class="text-center" colspan="8">
                        Buscando países
                    </td>
                </tr>
            }
        </tbody>
    </table>
</section>
